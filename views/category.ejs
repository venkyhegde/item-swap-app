<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href='/stylesheets/category.css'/>
</head>
<body>



<div class="wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12">
                <% include partials/header.ejs %>
            </div>
        </div>
        <div class="row content-justiify-center content-row">
            <div class="col-3">
                <% include partials/site-nav.ejs%>
            </div>
            <div class="col-9 mt-3">
                <div class="row content-justify-left">
                    <div class="col">
                        <h4> Books in <%= data.categoryName.charAt(0).toLocaleUpperCase() + data.categoryName.slice
                            (1)%></h4>
                    </div>
                    <div class="col content-justify-right">
                        <a href="/catalogCategory" class="btn btn-sm btn-warning back-btn"><i class="fas
                        fa-chevron-circle-left"></i> Categories</a>
                    </div>
                </div>
                <div class="row content-justify-center scrollable">
                    <% if(data.items.length > 0){ %>
                        <div class="col-11 mt-3">
                            <%
                                console.log("From view - Category name"+data.items[0].catalogCategory+" Length - "+data
                                        .items.length);
                            if(data.items.length > 3){
                                console.log("length greater than 3");
                            for (var i = 0; i< data.items.length; i = i+3){ %>
                                <div class="col-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title">Card title</h5>
                                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                            <a href="#" class="card-link">Card link</a>
                                            <a href="#" class="card-link">Another link</a>
                                        </div>
                                    </div>
                                </div>
                            <%  }
                            } else{
                                console.log("length lesser than 3");
                            %>
                            <div class="row mt-2">
                                <% for(var i=0;i<data.items.length; i++){%>
                                <div class="col-4">
                                    <div class="card">
                                        <img class="card-img-top" src="<%=data.items[i].imageUrl%>" alt="Card
                                            image cap">
                                        <div class="card-body">
                                            <h5 class="card-title"><%= data.items[i].bookName.trim()%>
                                            </h5>
                                            <p class="card-text">
                                            <table width="100%">
                                                <tr>
                                                    <th><span><small><strong>Author: </strong><%= data.items[i]
                                                                        .author.trim()%> </small></span></th>
                                                    <th><span><small><strong>Status: </strong><%= data.items[i]
                                                                        .status.trim()%> </small></span></th>
                                                </tr>

                                                <tr>
                                                    <th><span><small><strong>Categories: </strong><%= data.items[i]
                                                                        .catalogCategory.trim()%> </small></span></th>
                                                </tr>
                                            </table>
                                            </p>
                                            <div class="view-more">
                                                <a href="/catalogCategory/<%=data.items[i].catalogCategory%>/<%=data.items[i]._id%>"
                                                   class="btn btn-sm
                                                    btn-primary"><i class="fas
                                                    fa-eye"></i> Read more</a>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <% }%>

                            </div>
                            <%}%>
                        </div>
                  <%  } else{ %>
                    <div class="col-11 mt-3">
                        <h5>No books ogg the category <%= data.categoryName %></h5>
                    </div>
                  <%}%>
                </div>
            </div>
        </div>
        <% include partials/footer.ejs%>
    </div>


</div>




</body>
</html>